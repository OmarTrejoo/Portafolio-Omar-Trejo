---
import type { PersonalInfo } from "../types";
import BackgroundEffects from "./ui/BackgroundEffects.astro";
import SocialLink from "./ui/SocialLink.astro";
import Button from "./ui/Button.astro";

interface Props {
  personalInfo: PersonalInfo;
  lang: 'es' | 'en';
}

const { personalInfo, lang } = Astro.props;


const nameParts = personalInfo.name.split(' ');
const firstName = nameParts[0];
const lastName = nameParts.slice(1).join(' ');

const labels = {
  viewProjects: lang === 'es' ? 'Ver Proyectos' : 'View Projects',
  experience: lang === 'es' ? 'Mi Experiencia' : 'My Experience',
  scroll: lang === 'es' ? 'Scroll' : 'Scroll'
};
---

<section
	id="inicio"
	class="min-h-screen flex items-center justify-center relative overflow-hidden bg-slate-950"
>
	<BackgroundEffects variant="hero" />


	<div class="absolute inset-0 overflow-hidden opacity-20 pointer-events-none">
		<div class="absolute top-20 left-10 text-emerald-500/30 font-mono text-sm animate-float-slow">&lt;/&gt;</div>
		<div class="absolute top-40 right-20 text-teal-500/30 font-mono text-xs animate-float" style="animation-delay: 0.5s">{ }</div>
		<div class="absolute bottom-32 left-1/4 text-emerald-400/20 font-mono text-lg animate-float-slow" style="animation-delay: 1s">( )</div>
		<div class="absolute top-1/3 right-1/4 text-teal-400/20 font-mono animate-float" style="animation-delay: 1.5s">[ ]</div>
	</div>

	<div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 py-20">
		<div class="max-w-5xl mx-auto">

			<div class="text-center space-y-8">

				<h1 class="opacity-0 animate-fade-in-up" style="animation-delay: 0.1s; animation-fill-mode: forwards;">

					<span class="block sm:hidden text-6xl font-black leading-tight tracking-tight">
						<span class="block text-white">
							{firstName}
						</span>
						<span class="block text-white">
							{lastName}
						</span>
					</span>

					<span class="hidden sm:block text-6xl md:text-7xl lg:text-8xl font-black leading-tight tracking-tight text-white">
						<span class="inline-block">
							{firstName}
						</span>
						<span class="inline-block ml-4">
							{lastName}
						</span>
					</span>
				</h1>

				<div class="opacity-0 animate-fade-in-up" style="animation-delay: 0.3s; animation-fill-mode: forwards;">
					<p class="text-xl sm:text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-400 max-w-md sm:max-w-none mx-auto" style="text-wrap: balance;">
						{personalInfo.title}
					</p>
				</div>


				<div class="opacity-0 animate-fade-in" style="animation-delay: 0.5s; animation-fill-mode: forwards;">
					<div class="h-px w-24 mx-auto bg-gradient-to-r from-transparent via-emerald-500/50 to-transparent"></div>
				</div>


				<div class="opacity-0 animate-fade-in-up" style="animation-delay: 0.7s; animation-fill-mode: forwards;">
					<div class="flex justify-center gap-4">
						{
							personalInfo.socials.map((social) => (
								<SocialLink {...social} />
							))
						}
					</div>
				</div>


				<div class="opacity-0 animate-fade-in-up" style="animation-delay: 0.9s; animation-fill-mode: forwards;">
					<div class="flex flex-col sm:flex-row items-center justify-center gap-4 mt-8">
            <Button href="#proyectos" variant="primary">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
              </svg>
              {labels.viewProjects}
            </Button>

            <Button href="#experiencia" variant="secondary">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
              </svg>
              {labels.experience}
            </Button>
					</div>
				</div>


				<div class="opacity-0 animate-fade-in" style="animation-delay: 1.1s; animation-fill-mode: forwards;">
					<div class="mt-12 flex justify-center">
						<a 
							href="#sobre-mi" 
							class="group flex flex-col items-center gap-2 text-slate-500 hover:text-emerald-400 transition-colors"
						>
							<span class="text-xs font-medium tracking-wider uppercase">{labels.scroll}</span>
							<svg class="w-6 h-6 animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
							</svg>
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<style>
	@keyframes fade-in-up {
		from {
			opacity: 0;
			transform: translateY(20px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	@keyframes fade-in {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	@keyframes gradient-x {
		0%, 100% {
			background-position: 0% 50%;
		}
		50% {
			background-position: 100% 50%;
		}
	}

	@keyframes float {
		0%, 100% {
			transform: translateY(0px);
		}
		50% {
			transform: translateY(-20px);
		}
	}

	@keyframes float-slow {
		0%, 100% {
			transform: translateY(0px);
		}
		50% {
			transform: translateY(-30px);
		}
	}

	@keyframes glow-pulse {
		0%, 100% {
			text-shadow: 
				0 0 20px rgba(52, 211, 153, 0.3),
				0 0 40px rgba(52, 211, 153, 0.2),
				0 0 60px rgba(52, 211, 153, 0.1);
			transform: scale(1);
		}
		50% {
			text-shadow: 
				0 0 30px rgba(52, 211, 153, 0.5),
				0 0 60px rgba(52, 211, 153, 0.3),
				0 0 80px rgba(52, 211, 153, 0.2);
			transform: scale(1.02);
		}
	}

	@keyframes text-shine {
		0% {
			background-position: -200% center;
		}
		20% {
			background-position: 200% center;
		}
		100% {
			background-position: 200% center;
		}
	}

	@keyframes sweep {
		0% {
			left: -150%;
		}
		50% {
			left: 150%;
		}
		100% {
			left: 150%;
		}
	}

	@keyframes letter-shine {
		0% {
			background-position: -200% center;
		}
		50% {
			background-position: 200% center;
		}
		100% {
			background-position: 200% center;
		}
	}

	@keyframes shine-sweep {
		0% {
			left: -150%;
		}
		30% {
			left: 150%;
		}
		100% {
			left: 150%;
		}
	}

	@keyframes gradient-shift {
		0%, 100% {
			background-position: 0% 50%;
		}
		50% {
			background-position: 100% 50%;
		}
	}

	.shine-text::before {
		content: '';
		position: absolute;
		top: 0;
		left: -150%;
		width: 150%;
		height: 100%;
		background: linear-gradient(
			90deg,
			transparent 0%,
			rgba(251, 191, 36, 0.15) 25%,
			rgba(251, 191, 36, 0.4) 50%,
			rgba(251, 191, 36, 0.15) 75%,
			transparent 100%
		);
		animation: sweep 4s ease-in-out infinite;
		pointer-events: none;
		z-index: 1;
	}

	.shine-overlay::after {
		content: '';
		position: absolute;
		top: 0;
		left: -150%;
		width: 150%;
		height: 100%;
		background: linear-gradient(
			90deg,
			transparent 0%,
			rgba(251, 191, 36, 0.6) 50%,
			transparent 100%
		);
		animation: shine-sweep 2s ease-in-out infinite;
		pointer-events: none;
		mix-blend-mode: overlay;
	}

	.text-gradient {
		background: linear-gradient(
			120deg,
			#ffffff 0%,
			#f0fdf4 25%,
			#d1fae5 50%,
			#f0fdf4 75%,
			#ffffff 100%
		);
		background-size: 200% auto;
		background-clip: text;
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		animation: gradient-shift 8s ease-in-out infinite;
	}

	.text-letter-shine {
		animation: letter-shine 4s ease-in-out infinite;
		-webkit-background-clip: text;
		background-clip: text;
	}

	.animate-fade-in-up {
		animation: fade-in-up 0.8s ease-out;
	}

	.animate-fade-in {
		animation: fade-in 0.8s ease-out;
	}

	.animate-gradient-x {
		background-size: 200% 200%;
		animation: gradient-x 5s ease infinite;
	}

	.animate-float {
		animation: float 6s ease-in-out infinite;
	}

	.animate-float-slow {
		animation: float-slow 8s ease-in-out infinite;
	}

	.animate-glow-pulse {
		animation: glow-pulse 3s ease-in-out infinite;
	}

	.animate-text-shine {
		animation: text-shine 4s ease-in-out infinite;
	}
</style>
